Resources:

  LambdaRole:
      Type: "AWS::IAM::Role"
      Properties: 
        AssumeRolePolicyDocument:
           Version: "2012-10-17"
           Statement: 
              - "Effect": "Allow"
                Principal: 
                    Service: "lambda.amazonaws.com"
                Action: "sts:AssumeRole"
        ManagedPolicyArns:
          - arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess
          - arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
          - arn:aws:iam::aws:policy/AmazonS3FullAccess
        Path: "/"
#        Policies:
#          - Policies
        RoleName: "LambdaToAssumeRole"
  CmsLambda:
      Type: "AWS::Lambda::Function"
      Properties: 
        Code:
          S3Bucket: "aws-serverless-cms"
          S3Key: "lambda/my-cms-aws-cms-Controller.zip"
        Description: "Aws cms central management function designed to handle any API Gateway request"
        FunctionName: "CmsLambda"
        Handler: "controller.handler"
        MemorySize: 512
        Role: !Ref LambdaRole
        Runtime: "python2.7"
        Timeout: 10